---
import { icons } from "feather-icons";

const currentPathname = Astro.url.pathname;
const isBlogPage = currentPathname.startsWith("/blog");
const isHomePage = currentPathname === "/";
---

<nav>
	<ul class="site-links">
		<li>
			<a href="/" aria-label="Home" aria-current={isHomePage ? "page" : undefined} class="home-link">
				<Fragment
					set:html={icons.code?.toSvg({
						class: "navigation-icon"
					})}
				/>
			</a>
		</li>
		<li>
			<a href="/blog" aria-current={isBlogPage ? "page" : undefined} class="site-link"> Blog </a>
		</li>
	</ul>

	<ul class="social-links">
		<li>
			<a href="https://github.com/screendriver" title="GitHub">
				<Fragment set:html={icons.github?.toSvg({ class: "navigation-icon" })} />
			</a>
		</li>
		<li>
			<a href="https://twitter.com/CallistoShip" title="Twitter">
				<Fragment set:html={icons.twitter?.toSvg({ class: "navigation-icon" })} />
			</a>
		</li>
		<li>
			<a href="https://www.linkedin.com/in/unicornyuppie" title="LinkedIn">
				<Fragment set:html={icons.linkedin?.toSvg({ class: "navigation-icon" })} />
			</a>
		</li>
	</ul>
</nav>

<style lang="scss" is:global>
	@use "../styles/variables";

	.navigation-icon {
		width: 1.25rem;
		height: 1.25rem;

		@media (min-width: variables.$small-width) {
			width: 1.5rem;
			height: 1.5rem;
		}

		@media (min-width: variables.$medium-width) {
			width: 2rem;
			height: 2rem;
		}
	}
</style>

<style lang="scss">
	@use "../styles/variables";

	nav {
		background-image: linear-gradient(to bottom, variables.$selection, variables.$background);
		border-bottom: 1px solid variables.$purple;
		color: variables.$foreground;
		display: flex;
		align-items: center;
		justify-content: space-between;
		padding: 1rem 2rem;
	}

	ul {
		display: flex;
		align-items: center;
		gap: 2rem;
	}

	.site-links a {
		font-size: 0.95rem;
		font-weight: 700;
		letter-spacing: 0.03em;
		text-transform: uppercase;
	}

	.home-link,
	.site-link {
		transition:
			color 160ms ease-in-out,
			opacity 160ms ease-in-out;
	}

	.home-link[aria-current="page"],
	.site-link[aria-current="page"] {
		color: variables.$purple;
		opacity: 1;
	}

	.home-link:not([aria-current="page"]),
	.site-link:not([aria-current="page"]) {
		opacity: 0.8;
	}

	.home-link:hover,
	.home-link:focus-visible,
	.site-link:hover,
	.site-link:focus-visible {
		color: variables.$cyan;
		opacity: 1;
	}

	.social-links {
		gap: 1rem;
	}
</style>
